import{j as e,L as a,S as ee,B as v,T as n,h as he,i as Se,A as f,M as k,k as ce,l as de,m as ke,n as fe,C as ne,b as y,a as be,d as we,o as Ne}from"./ui-vendor-Btqi4hos.js";import{r as p,u as Ce}from"./react-vendor-DKKOAuGG.js";import{u as Te,S as le,N as ie}from"./useMetrics-De2YmbaA.js";import{a as w}from"./index-Buls3M4c.js";import"./http-vendor-B9ygI19o.js";function Fe({onServiceSaved:L}={}){const[b,W]=p.useState(""),[t,S]=p.useState({}),[N,M]=p.useState(""),[K,D]=p.useState(!1),[se,H]=p.useState(!1),[A,C]=p.useState(""),[q,T]=p.useState(""),[B,z]=p.useState(!1),[I,E]=p.useState(null),[Y,P]=p.useState(!1),[u,J]=p.useState("custom"),_=[{value:"email",label:"Email (SMTP)",category:"Email"},{value:"discord",label:"Discord",category:"Chat"},{value:"slack",label:"Slack",category:"Chat"},{value:"telegram",label:"Telegram",category:"Chat"},{value:"matrix",label:"Matrix",category:"Chat"},{value:"mattermost",label:"Mattermost",category:"Chat"},{value:"rocketchat",label:"Rocket.Chat",category:"Chat"},{value:"msteams",label:"Microsoft Teams",category:"Chat"},{value:"googlechat",label:"Google Chat",category:"Chat"},{value:"zulip",label:"Zulip",category:"Chat"},{value:"line",label:"Line",category:"Chat"},{value:"pushover",label:"Pushover",category:"Push"},{value:"pushbullet",label:"Pushbullet",category:"Push"},{value:"gotify",label:"Gotify",category:"Push"},{value:"ntfy",label:"ntfy",category:"Push"},{value:"prowl",label:"Prowl",category:"Push"},{value:"join",label:"Join",category:"Push"},{value:"homeassistant",label:"Home Assistant",category:"Home Automation"},{value:"twilio",label:"Twilio (SMS)",category:"SMS"},{value:"awssns",label:"AWS SNS",category:"Cloud"},{value:"gcm",label:"Google Cloud Messaging",category:"Cloud"},{value:"fcm",label:"Firebase Cloud Messaging",category:"Cloud"},{value:"webhook",label:"Generic Webhook",category:"Webhook"},{value:"json",label:"JSON Webhook",category:"Webhook"},{value:"ifttt",label:"IFTTT",category:"Other"},{value:"xmpp",label:"XMPP",category:"Other"},{value:"kodi",label:"Kodi",category:"Other"},{value:"apprise",label:"Apprise API",category:"Other"}],h=s=>encodeURIComponent(s),V=()=>{if(!b)return;let s="";switch(b){case"email":{const o=String(t.username||""),l=String(t.password||""),d=String(t.to||""),x=String(t.from||o);if(u!=="custom"){const j={gmail:"gmail.com",yahoo:"yahoo.com",hotmail:"hotmail.com",live:"live.com",fastmail:"fastmail.com",zoho:"zoho.com",yandex:"yandex.com",sendgrid:"sendgrid.com",qq:"qq.com",163:"163.com",custom:""}[u];if(u==="sendgrid"){const U=x||o;s=`mailto://${h(o)}:${h(l)}@${j}?from=${h(U)}`}else s=`mailto://${h(o)}:${h(l)}@${j}`}else{const g=String(t.smtpHost||""),j=String(t.port||"587");s=`${j==="465"?"mailtos":"mailto"}://${h(o)}:${h(l)}@${g}:${j}?to=${h(d)}&from=${h(x)}`}break}case"homeassistant":{const o=String(t.host||""),l=String(t.port||(t.useHttps?"443":"8123")),d=String(t.token||"");s=`${!!t.useHttps?"hassios":"hassio"}://${o}:${l}/${d}`;break}case"discord":{const o=String(t.webhookId||""),l=String(t.webhookToken||"");s=`discord://${o}/${l}`;break}case"slack":{const o=String(t.tokenA||""),l=String(t.tokenB||""),d=String(t.tokenC||"");s=`slack://${o}/${l}/${d}`;break}case"telegram":{const o=String(t.botToken||""),l=String(t.chatId||"");s=`tgram://${o}/${l}`;break}case"ntfy":{const o=String(t.topic||""),l=String(t.server||"ntfy.sh");if(t.username&&t.password){const d=String(t.username),x=String(t.password);s=`ntfy://${h(d)}:${h(x)}@${l}/${o}`}else s=`ntfy://${l}/${o}`;break}case"pushover":{const o=String(t.userKey||""),l=String(t.token||"");s=`pover://${o}@${l}`;break}case"pushbullet":{const o=String(t.token||""),l=String(t.deviceId||"");l?s=`pbul://${o}/${l}`:s=`pbul://${o}`;break}case"gotify":{const o=String(t.host||""),l=String(t.token||""),d=String(t.port||"80");s=`${!!t.useHttps?"gotifys":"gotify"}://${o}:${d}/${l}`;break}case"matrix":{const o=String(t.host||""),l=String(t.token||""),d=String(t.room||""),g=!!t.useHttps?"matrixs":"matrix";d?s=`${g}://${o}/${d}?token=${h(l)}`:s=`${g}://${o}?token=${h(l)}`;break}case"mattermost":{const o=String(t.host||""),l=String(t.token||""),d=String(t.channel||""),g=!!t.useHttps?"mmosts":"mmost";d?s=`${g}://${o}/${d}?token=${h(l)}`:s=`${g}://${o}?token=${h(l)}`;break}case"rocketchat":{const o=String(t.host||""),l=String(t.user||""),d=String(t.password||""),x=String(t.channel||""),j=!!t.useHttps?"rockets":"rocket";x?s=`${j}://${h(l)}:${h(d)}@${o}/${x}`:s=`${j}://${h(l)}:${h(d)}@${o}`;break}case"msteams":{const o=String(t.webhookUrl||"");o.startsWith("http")?s=`msteams://${o.replace(/^https?:\/\//,"")}`:s=`msteams://${o}`;break}case"googlechat":{const o=String(t.webhookUrl||"");o.startsWith("http")?s=`gchat://${o.replace(/^https?:\/\//,"")}`:s=`gchat://${o}`;break}case"zulip":{const o=String(t.host||""),l=String(t.botEmail||""),d=String(t.botKey||""),x=String(t.stream||""),g=String(t.topic||""),U=!!t.useHttps?"zulips":"zulip";let F=`bot=${h(l)}&key=${h(d)}`;x&&(F+=`&stream=${h(x)}`),g&&(F+=`&topic=${h(g)}`),s=`${U}://${o}?${F}`;break}case"line":{s=`line://${String(t.token||"")}`;break}case"prowl":{const o=String(t.apikey||""),l=String(t.providerKey||"");l?s=`prowl://${o}@${l}`:s=`prowl://${o}`;break}case"join":{const o=String(t.deviceId||""),l=String(t.apikey||"");s=`join://${o}?apikey=${h(l)}`;break}case"twilio":{const o=String(t.accountSid||""),l=String(t.authToken||""),d=String(t.fromNumber||""),x=String(t.toNumber||"");s=`twilio://${o}:${h(l)}@${d}/${x}`;break}case"awssns":{const o=String(t.region||"us-east-1"),l=String(t.topicArn||""),d=String(t.accessKeyId||""),x=String(t.secretAccessKey||"");s=`sns://${h(d)}:${h(x)}@${o}/${l}`;break}case"gcm":{const o=String(t.projectId||""),l=String(t.apiKey||""),d=String(t.registrationId||"");s=`gcm://${h(l)}@${o}/${d}`;break}case"fcm":{const o=String(t.projectId||""),l=String(t.apikey||""),d=String(t.deviceToken||"");s=`fcm://${h(l)}@${o}/${d}`;break}case"webhook":{const o=String(t.url||""),l=String(t.method||"POST").toUpperCase();o.startsWith("http")?s=`webhook${l==="GET"?"s":""}://${o.replace(/^https?:\/\//,"")}`:s=`webhook${l==="GET"?"s":""}://${o}`;break}case"json":{const o=String(t.url||"");o.startsWith("http")?s=`json://${o.replace(/^https?:\/\//,"")}`:s=`json://${o}`;break}case"ifttt":{const o=String(t.webhookId||""),l=String(t.eventName||"");s=`ifttt://${o}/${l}`;break}case"xmpp":{const o=String(t.user||""),l=String(t.password||""),d=String(t.host||""),x=String(t.target||"");x?s=`xmpp://${h(o)}:${h(l)}@${d}/${x}`:s=`xmpp://${h(o)}:${h(l)}@${d}`;break}case"kodi":{const o=String(t.host||""),l=String(t.port||"8080"),d=String(t.user||""),x=String(t.password||"");d&&x?s=`kodi://${h(d)}:${h(x)}@${o}:${l}`:s=`kodi://${o}:${l}`;break}case"apprise":{const o=String(t.host||""),l=String(t.port||"8000"),d=String(t.token||""),g=!!t.useHttps?"apprises":"apprise";d?s=`${g}://${o}:${l}/${d}`:s=`${g}://${o}:${l}`;break}}M(s),D(!1)},X=async()=>{N&&(await navigator.clipboard.writeText(N),D(!0),setTimeout(()=>D(!1),2e3))},r=(s,o)=>{S(l=>({...l,[s]:o}))},O=()=>{W(""),S({}),M(""),D(!1)},te=()=>{if(!b)return null;switch(b){case"email":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"emailProvider",children:"Email Provider"}),e.jsxs(ee,{id:"emailProvider",value:u,onChange:s=>{J(s.target.value),S({})},children:[e.jsx("option",{value:"custom",children:"Custom SMTP Server"}),e.jsx("option",{value:"gmail",children:"Gmail"}),e.jsx("option",{value:"yahoo",children:"Yahoo"}),e.jsx("option",{value:"hotmail",children:"Hotmail"}),e.jsx("option",{value:"live",children:"Live.com"}),e.jsx("option",{value:"fastmail",children:"Fastmail"}),e.jsx("option",{value:"zoho",children:"Zoho"}),e.jsx("option",{value:"yandex",children:"Yandex"}),e.jsx("option",{value:"sendgrid",children:"SendGrid"}),e.jsx("option",{value:"qq",children:"QQ Mail"}),e.jsx("option",{value:"163",children:"163 Mail"})]})]}),u==="gmail"&&e.jsx(f,{color:"info",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Note:"})," Google users using 2-Step Verification will be required to generate an"," ",e.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline",children:"app password"})," ","that you can use in the password field."]})}),u==="yahoo"&&e.jsx(f,{color:"info",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Note:"})," Yahoo users will be required to generate an"," ",e.jsx("a",{href:"https://login.yahoo.com/account/security/app-passwords",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline",children:"app password"})," ","that you can use in the password field."]})}),u==="fastmail"&&e.jsx(f,{color:"info",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Note:"})," Fastmail users are required to generate a custom App password before connecting. You must assign the ",e.jsx("strong",{children:"SMTP"})," option to the new App you generate. This Fastmail plugin supports 116 domains - just make sure you identify the email address you're using when building the URL."]})}),u==="custom"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"smtpHost",children:"SMTP Host"}),e.jsx(n,{id:"smtpHost",type:"text",placeholder:"smtp.gmail.com",value:String(t.smtpHost||""),onChange:s=>r("smtpHost",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"port",children:"Port"}),e.jsx(n,{id:"port",type:"text",placeholder:"587",value:String(t.port||"587"),onChange:s=>r("port",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Use 465 for SSL/TLS, 587 for STARTTLS"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"to",children:"To (Recipient Email)"}),e.jsx(n,{id:"to",type:"email",placeholder:"recipient@example.com",value:String(t.to||""),onChange:s=>r("to",s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"username",children:u==="custom"?"Username":"Email Address"}),e.jsx(n,{id:"username",type:"text",placeholder:u==="custom"?"user@example.com":"user@provider.com",value:String(t.username||""),onChange:s=>r("username",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"password",children:u==="gmail"||u==="yahoo"||u==="fastmail"?"App Password":"Password"}),e.jsx(n,{id:"password",type:"password",placeholder:u==="gmail"||u==="yahoo"||u==="fastmail"?"App password (not your regular password)":"Your password",value:String(t.password||""),onChange:s=>r("password",s.target.value)})]}),u==="sendgrid"&&e.jsxs("div",{children:[e.jsx(a,{htmlFor:"from",children:"From Email (Required for SendGrid)"}),e.jsx(n,{id:"from",type:"email",placeholder:"noreply@your-validated-domain.com",value:String(t.from||""),onChange:s=>r("from",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Must use a validated domain from your SendGrid account"})]}),u==="custom"&&e.jsxs("div",{children:[e.jsx(a,{htmlFor:"from",children:"From (Sender Email - Optional)"}),e.jsx(n,{id:"from",type:"email",placeholder:"sender@example.com",value:String(t.from||""),onChange:s=>r("from",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Defaults to username if not provided"})]})]});case"homeassistant":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Home Assistant Host"}),e.jsx(n,{id:"host",type:"text",placeholder:"homeassistant.local",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"port",children:"Port"}),e.jsx(n,{id:"port",type:"text",placeholder:"8123",value:String(t.port||""),onChange:s=>r("port",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Default: 8123 (HTTP) or 443 (HTTPS)"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Long-lived Access Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter access credential",value:String(t.token||""),onChange:s=>r("token",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});case"discord":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"webhookId",children:"Webhook ID"}),e.jsx(n,{id:"webhookId",type:"text",placeholder:"123456789012345678",value:String(t.webhookId||""),onChange:s=>r("webhookId",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"webhookToken",children:"Webhook Token"}),e.jsx(n,{id:"webhookToken",type:"password",placeholder:"Enter webhook credential",value:String(t.webhookToken||""),onChange:s=>r("webhookToken",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get these from Discord: Server Settings → Integrations → Webhooks"})]})]});case"slack":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"tokenA",children:"Token A"}),e.jsx(n,{id:"tokenA",type:"password",placeholder:"Enter first credential",value:String(t.tokenA||""),onChange:s=>r("tokenA",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"tokenB",children:"Token B"}),e.jsx(n,{id:"tokenB",type:"password",placeholder:"Enter second credential",value:String(t.tokenB||""),onChange:s=>r("tokenB",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"tokenC",children:"Token C"}),e.jsx(n,{id:"tokenC",type:"password",placeholder:"Enter third credential",value:String(t.tokenC||""),onChange:s=>r("tokenC",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get credentials from Slack: Apps → Your App → OAuth & Permissions"})]})]});case"telegram":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"botToken",children:"Bot Token"}),e.jsx(n,{id:"botToken",type:"password",placeholder:"Enter bot credential from @BotFather",value:String(t.botToken||""),onChange:s=>r("botToken",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from @BotFather on Telegram"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"chatId",children:"Chat ID"}),e.jsx(n,{id:"chatId",type:"text",placeholder:"123456789",value:String(t.chatId||""),onChange:s=>r("chatId",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your Telegram user ID or group ID"})]})]});case"ntfy":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"server",children:"Server"}),e.jsx(n,{id:"server",type:"text",placeholder:"ntfy.sh",value:String(t.server||"ntfy.sh"),onChange:s=>r("server",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Default: ntfy.sh (public server)"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"topic",children:"Topic"}),e.jsx(n,{id:"topic",type:"text",placeholder:"my-topic",value:String(t.topic||""),onChange:s=>r("topic",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Topic name (no spaces, use hyphens)"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"username",children:"Username (Optional)"}),e.jsx(n,{id:"username",type:"text",placeholder:"username",value:String(t.username||""),onChange:s=>r("username",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"password",children:"Password (Optional)"}),e.jsx(n,{id:"password",type:"password",placeholder:"password",value:String(t.password||""),onChange:s=>r("password",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Only required for private topics"})]})]});case"pushover":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"userKey",children:"User Key"}),e.jsx(n,{id:"userKey",type:"text",placeholder:"Enter user key",value:String(t.userKey||""),onChange:s=>r("userKey",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from pushover.net"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Application Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter application token",value:String(t.token||""),onChange:s=>r("token",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create an application at pushover.net"})]})]});case"pushbullet":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Access Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter access token",value:String(t.token||""),onChange:s=>r("token",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from pushbullet.com → Settings → Access Tokens"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"deviceId",children:"Device ID (Optional)"}),e.jsx(n,{id:"deviceId",type:"text",placeholder:"device_iden",value:String(t.deviceId||""),onChange:s=>r("deviceId",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty to send to all devices"})]})]});case"gotify":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Gotify Server Host"}),e.jsx(n,{id:"host",type:"text",placeholder:"gotify.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"port",children:"Port"}),e.jsx(n,{id:"port",type:"text",placeholder:"80",value:String(t.port||"80"),onChange:s=>r("port",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Application Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter application token",value:String(t.token||""),onChange:s=>r("token",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});case"matrix":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Matrix Server"}),e.jsx(n,{id:"host",type:"text",placeholder:"matrix.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Access Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter access token",value:String(t.token||""),onChange:s=>r("token",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"room",children:"Room ID (Optional)"}),e.jsx(n,{id:"room",type:"text",placeholder:"!roomid:example.com",value:String(t.room||""),onChange:s=>r("room",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});case"mattermost":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Mattermost Server"}),e.jsx(n,{id:"host",type:"text",placeholder:"mattermost.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Personal Access Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter access token",value:String(t.token||""),onChange:s=>r("token",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"channel",children:"Channel Name (Optional)"}),e.jsx(n,{id:"channel",type:"text",placeholder:"general",value:String(t.channel||""),onChange:s=>r("channel",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});case"rocketchat":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Rocket.Chat Server"}),e.jsx(n,{id:"host",type:"text",placeholder:"rocketchat.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"user",children:"Username"}),e.jsx(n,{id:"user",type:"text",placeholder:"bot_user",value:String(t.user||""),onChange:s=>r("user",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"password",children:"Password"}),e.jsx(n,{id:"password",type:"password",placeholder:"Enter password",value:String(t.password||""),onChange:s=>r("password",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"channel",children:"Channel (Optional)"}),e.jsx(n,{id:"channel",type:"text",placeholder:"#general",value:String(t.channel||""),onChange:s=>r("channel",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});case"msteams":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(a,{htmlFor:"webhookUrl",children:"Webhook URL"}),e.jsx(n,{id:"webhookUrl",type:"text",placeholder:"https://outlook.office.com/webhook/...",value:String(t.webhookUrl||""),onChange:s=>r("webhookUrl",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from Teams: Channel → Connectors → Incoming Webhook"})]})});case"googlechat":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(a,{htmlFor:"webhookUrl",children:"Webhook URL"}),e.jsx(n,{id:"webhookUrl",type:"text",placeholder:"https://chat.googleapis.com/v1/spaces/...",value:String(t.webhookUrl||""),onChange:s=>r("webhookUrl",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from Google Chat: Space → Configure Webhooks"})]})});case"zulip":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Zulip Server"}),e.jsx(n,{id:"host",type:"text",placeholder:"zulip.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"botEmail",children:"Bot Email"}),e.jsx(n,{id:"botEmail",type:"email",placeholder:"bot@example.com",value:String(t.botEmail||""),onChange:s=>r("botEmail",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"botKey",children:"Bot API Key"}),e.jsx(n,{id:"botKey",type:"password",placeholder:"Enter bot API key",value:String(t.botKey||""),onChange:s=>r("botKey",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"stream",children:"Stream Name (Optional)"}),e.jsx(n,{id:"stream",type:"text",placeholder:"general",value:String(t.stream||""),onChange:s=>r("stream",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"topic",children:"Topic (Optional)"}),e.jsx(n,{id:"topic",type:"text",placeholder:"notifications",value:String(t.topic||""),onChange:s=>r("topic",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});case"line":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Channel Access Token"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter channel access token",value:String(t.token||""),onChange:s=>r("token",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from Line Developers Console"})]})});case"prowl":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"apikey",children:"API Key"}),e.jsx(n,{id:"apikey",type:"password",placeholder:"Enter API key",value:String(t.apikey||""),onChange:s=>r("apikey",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from prowlapp.com"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"providerKey",children:"Provider Key (Optional)"}),e.jsx(n,{id:"providerKey",type:"password",placeholder:"Enter provider key",value:String(t.providerKey||""),onChange:s=>r("providerKey",s.target.value)})]})]});case"join":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"deviceId",children:"Device ID"}),e.jsx(n,{id:"deviceId",type:"text",placeholder:"device_iden",value:String(t.deviceId||""),onChange:s=>r("deviceId",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from joinjoaomgcd.app → My Devices"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"apikey",children:"API Key"}),e.jsx(n,{id:"apikey",type:"password",placeholder:"Enter API key",value:String(t.apikey||""),onChange:s=>r("apikey",s.target.value)})]})]});case"twilio":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"accountSid",children:"Account SID"}),e.jsx(n,{id:"accountSid",type:"text",placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:String(t.accountSid||""),onChange:s=>r("accountSid",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"authToken",children:"Auth Token"}),e.jsx(n,{id:"authToken",type:"password",placeholder:"Enter auth token",value:String(t.authToken||""),onChange:s=>r("authToken",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"fromNumber",children:"From Phone Number"}),e.jsx(n,{id:"fromNumber",type:"text",placeholder:"+1234567890",value:String(t.fromNumber||""),onChange:s=>r("fromNumber",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your Twilio phone number (E.164 format)"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"toNumber",children:"To Phone Number"}),e.jsx(n,{id:"toNumber",type:"text",placeholder:"+1234567890",value:String(t.toNumber||""),onChange:s=>r("toNumber",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Recipient phone number (E.164 format)"})]})]});case"awssns":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"region",children:"AWS Region"}),e.jsx(n,{id:"region",type:"text",placeholder:"us-east-1",value:String(t.region||"us-east-1"),onChange:s=>r("region",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"topicArn",children:"Topic ARN"}),e.jsx(n,{id:"topicArn",type:"text",placeholder:"arn:aws:sns:us-east-1:123456789012:MyTopic",value:String(t.topicArn||""),onChange:s=>r("topicArn",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"accessKeyId",children:"Access Key ID"}),e.jsx(n,{id:"accessKeyId",type:"text",placeholder:"Enter access key ID",value:String(t.accessKeyId||""),onChange:s=>r("accessKeyId",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"secretAccessKey",children:"Secret Access Key"}),e.jsx(n,{id:"secretAccessKey",type:"password",placeholder:"Enter secret access key",value:String(t.secretAccessKey||""),onChange:s=>r("secretAccessKey",s.target.value)})]})]});case"gcm":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"projectId",children:"Project ID"}),e.jsx(n,{id:"projectId",type:"text",placeholder:"my-project-id",value:String(t.projectId||""),onChange:s=>r("projectId",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"apiKey",children:"API Key"}),e.jsx(n,{id:"apiKey",type:"password",placeholder:"Enter API key",value:String(t.apiKey||""),onChange:s=>r("apiKey",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"registrationId",children:"Registration ID"}),e.jsx(n,{id:"registrationId",type:"text",placeholder:"Enter registration ID",value:String(t.registrationId||""),onChange:s=>r("registrationId",s.target.value)})]})]});case"fcm":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"projectId",children:"Project ID"}),e.jsx(n,{id:"projectId",type:"text",placeholder:"my-project-id",value:String(t.projectId||""),onChange:s=>r("projectId",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"apikey",children:"Server Key"}),e.jsx(n,{id:"apikey",type:"password",placeholder:"Enter server key",value:String(t.apikey||""),onChange:s=>r("apikey",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"deviceToken",children:"Device Token"}),e.jsx(n,{id:"deviceToken",type:"text",placeholder:"Enter device token",value:String(t.deviceToken||""),onChange:s=>r("deviceToken",s.target.value)})]})]});case"webhook":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"url",children:"Webhook URL"}),e.jsx(n,{id:"url",type:"text",placeholder:"https://example.com/webhook",value:String(t.url||""),onChange:s=>r("url",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"method",children:"HTTP Method"}),e.jsxs(ee,{id:"method",value:String(t.method||"POST"),onChange:s=>r("method",s.target.value),children:[e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"PUT",children:"PUT"}),e.jsx("option",{value:"PATCH",children:"PATCH"})]})]})]});case"json":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(a,{htmlFor:"url",children:"JSON Webhook URL"}),e.jsx(n,{id:"url",type:"text",placeholder:"https://example.com/webhook",value:String(t.url||""),onChange:s=>r("url",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"URL that accepts JSON POST requests"})]})});case"ifttt":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"webhookId",children:"Webhook ID"}),e.jsx(n,{id:"webhookId",type:"text",placeholder:"Enter webhook ID",value:String(t.webhookId||""),onChange:s=>r("webhookId",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get from ifttt.com → My Applets → Webhooks → Settings"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"eventName",children:"Event Name"}),e.jsx(n,{id:"eventName",type:"text",placeholder:"notification",value:String(t.eventName||""),onChange:s=>r("eventName",s.target.value)})]})]});case"xmpp":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"XMPP Server"}),e.jsx(n,{id:"host",type:"text",placeholder:"xmpp.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"user",children:"Username (JID)"}),e.jsx(n,{id:"user",type:"text",placeholder:"user@example.com",value:String(t.user||""),onChange:s=>r("user",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"password",children:"Password"}),e.jsx(n,{id:"password",type:"password",placeholder:"Enter password",value:String(t.password||""),onChange:s=>r("password",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"target",children:"Target JID (Optional)"}),e.jsx(n,{id:"target",type:"text",placeholder:"recipient@example.com",value:String(t.target||""),onChange:s=>r("target",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty to send to yourself"})]})]});case"kodi":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Kodi Host"}),e.jsx(n,{id:"host",type:"text",placeholder:"192.168.1.100",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"port",children:"Port"}),e.jsx(n,{id:"port",type:"text",placeholder:"8080",value:String(t.port||"8080"),onChange:s=>r("port",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"user",children:"Username (Optional)"}),e.jsx(n,{id:"user",type:"text",placeholder:"kodi",value:String(t.user||""),onChange:s=>r("user",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"password",children:"Password (Optional)"}),e.jsx(n,{id:"password",type:"password",placeholder:"Enter password",value:String(t.password||""),onChange:s=>r("password",s.target.value)})]})]});case"apprise":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"host",children:"Apprise API Host"}),e.jsx(n,{id:"host",type:"text",placeholder:"apprise.example.com",value:String(t.host||""),onChange:s=>r("host",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"port",children:"Port"}),e.jsx(n,{id:"port",type:"text",placeholder:"8000",value:String(t.port||"8000"),onChange:s=>r("port",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"token",children:"Token (Optional)"}),e.jsx(n,{id:"token",type:"password",placeholder:"Enter token",value:String(t.token||""),onChange:s=>r("token",s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"useHttps",checked:!!t.useHttps,onChange:s=>r("useHttps",s.target.checked),className:"rounded"}),e.jsx(a,{htmlFor:"useHttps",children:"Use HTTPS"})]})]});default:return null}},G=_.reduce((s,o)=>{const l=o.category||"Other";return s[l]||(s[l]=[]),s[l].push(o),s},{});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"serviceType",children:"Service Type"}),e.jsxs(ee,{id:"serviceType",value:b,onChange:s=>{W(s.target.value),S({}),M("")},children:[e.jsx("option",{value:"",children:"Select a service..."}),Object.entries(G).map(([s,o])=>e.jsx("optgroup",{label:s,children:o.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))},s))]})]}),b&&e.jsxs(e.Fragment,{children:[te(),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(v,{onClick:V,color:"blue",children:"Generate URL"}),e.jsx(v,{onClick:O,color:"gray",outline:!0,children:"Reset"})]})]}),N&&e.jsxs("div",{className:"mt-4",children:[e.jsx(a,{children:"Generated URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{type:"text",value:N,readOnly:!0,className:"font-mono text-sm"}),e.jsx(v,{onClick:X,color:K?"success":"gray",size:"sm",children:K?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"Copy"]})}),e.jsx(v,{onClick:()=>{H(!0),C(""),T(""),E(null),P(!1)},color:"blue",size:"sm",children:"Save Service"})]}),e.jsx(f,{color:"info",className:"mt-2",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Note:"})," You can save this service to the database for easier management, or copy it to store in secrets.yaml."]})})]}),e.jsxs(k,{show:se,onClose:()=>H(!1),children:[e.jsx(k.Header,{children:"Save Apprise Service"}),e.jsx(k.Body,{children:e.jsxs("div",{className:"space-y-4",children:[I&&e.jsx(f,{color:"failure",children:I}),Y&&e.jsx(f,{color:"success",children:"Service saved successfully!"}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"saveName",value:"Service Name *"}),e.jsx(n,{id:"saveName",value:A,onChange:s=>C(s.target.value),placeholder:"e.g., Discord Notifications",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"saveDescription",value:"Description (optional)"}),e.jsx(ce,{id:"saveDescription",value:q,onChange:s=>T(s.target.value),placeholder:"Optional description for this service",rows:3,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"saveUrl",value:"Service URL"}),e.jsx(n,{id:"saveUrl",readOnly:!0,value:N,className:"mt-1 font-mono text-sm"})]})]})}),e.jsxs(k.Footer,{children:[e.jsx(v,{color:"blue",onClick:async()=>{if(!A.trim()){E("Service name is required");return}z(!0),E(null),P(!1);try{await w.createAppriseService({name:A.trim(),description:q.trim()||null,url:N}),P(!0),setTimeout(()=>{H(!1),C(""),T(""),P(!1),L&&L()},1500)}catch(s){E(s.response?.data?.detail||s.message||"Failed to save service")}finally{z(!1)}},disabled:B||!A.trim(),children:B?"Saving...":"Save"}),e.jsx(v,{color:"gray",onClick:()=>H(!1),children:"Cancel"})]})]})]})}function Pe(){const L=localStorage.getItem("access_token"),b=localStorage.getItem("username")||"Unknown",W=Ce(),[t,S]=p.useState(!1),[N,M]=p.useState(!1),[K,D]=p.useState([]),[se,H]=p.useState(!0),[A,C]=p.useState(null),[q,T]=p.useState(!1),[B,z]=p.useState(null),[I,E]=p.useState(""),[Y,P]=p.useState(""),[u,J]=p.useState(""),[_,h]=p.useState(!0),[V,X]=p.useState(!1),[r,O]=p.useState(null),[te,G]=p.useState(!1),[s,o]=p.useState(""),[l,d]=p.useState(""),[x,g]=p.useState("info"),[j,U]=p.useState(!1),[F,R]=p.useState(null),[pe,Z]=p.useState(new Set),[xe,$]=p.useState(new Map),{connectionStatus:ae}=Te(L);p.useEffect(()=>{Q()},[]);const Q=async()=>{H(!0),C(null);try{const i=await w.getAppriseStatus();M(i.enabled);const c=await w.getAppriseServices();D(c)}catch(i){C(i.response?.data?.detail||i.message||"Failed to fetch Apprise status"),M(!1)}finally{H(!1)}},ue=async()=>{if(!s.trim()){R({success:!1,message:"Message body is required"});return}U(!0),R(null);try{const i=await w.sendAppriseNotification(s,l||void 0,x||void 0);R(i),i.success&&(o(""),d(""),g("info"))}catch(i){R({success:!1,message:i.response?.data?.detail||i.message||"Failed to send notification"})}finally{U(!1)}},me=async i=>{if(!s.trim()){$(c=>new Map(c).set(i,{success:!1,message:"Message body is required"}));return}Z(c=>new Set(c).add(i)),$(c=>{const m=new Map(c);return m.delete(i),m});try{const c=await w.sendAppriseNotificationToServiceById(i,s,l||void 0,x||void 0);if($(m=>new Map(m).set(i,c)),!c.success){const m=c.details?`${c.message}: ${c.details}`:c.message;$(oe=>new Map(oe).set(i,{success:!1,message:m,details:c.details}))}}catch(c){const m=c.response?.data?.detail||c.message||"Failed to send notification";$(oe=>new Map(oe).set(i,{success:!1,message:m}))}finally{Z(c=>{const m=new Set(c);return m.delete(i),m})}},ge=async i=>{Z(c=>new Set(c).add(i));try{const c=await w.testAppriseServiceById(i);$(m=>new Map(m).set(i,c)),c.success||$(m=>new Map(m).set(i,{success:!1,message:c.message,details:c.details}))}catch(c){$(m=>new Map(m).set(i,{success:!1,message:c.response?.data?.detail||c.message}))}finally{Z(c=>{const m=new Set(c);return m.delete(i),m})}},ve=async i=>{try{const c=await w.getAppriseService(i);z(c),E(c.name),P(c.description||""),J(c.url),h(c.enabled),O(null),T(!0)}catch(c){C(c.response?.data?.detail||c.message||"Failed to load service")}},je=async()=>{if(B){if(!I.trim()){O("Service name is required");return}X(!0),O(null);try{const i={name:I.trim(),description:Y.trim()||null,url:u.trim(),enabled:_};await w.updateAppriseService(B.id,i),T(!1),await Q()}catch(i){O(i.response?.data?.detail||i.message||"Failed to update service")}finally{X(!1)}}},ye=async i=>{if(confirm("Are you sure you want to delete this service? This action cannot be undone."))try{await w.deleteAppriseService(i),await Q()}catch(c){C(c.response?.data?.detail||c.message||"Failed to delete service")}},re=async()=>{await w.logout(),W("/login")};return se?e.jsxs("div",{className:"flex h-screen",children:[e.jsx(le,{onLogout:re,isOpen:t,onClose:()=>S(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ie,{hostname:"nixos-router",username:b,connectionStatus:ae,onMenuClick:()=>S(!t)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"text-center py-16 text-gray-500",children:"Loading Apprise configuration..."})})]})]}):N?e.jsxs("div",{className:"flex h-screen",children:[e.jsx(le,{onLogout:re,isOpen:t,onClose:()=>S(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ie,{hostname:"nixos-router",username:b,connectionStatus:ae,onMenuClick:()=>S(!t)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ke,{className:"w-8 h-8 text-gray-900 dark:text-white"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Apprise Notifications"})]}),e.jsx(v,{color:"blue",onClick:()=>G(!0),children:"New Service"})]}),A&&e.jsx(f,{color:"failure",className:"mb-6",children:A}),F&&e.jsx(f,{color:F.success?"success":"failure",icon:F.success?he:fe,className:"mb-6",onDismiss:()=>R(null),children:F.message}),e.jsxs(ne,{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:["Configured Services (",K.length,")"]}),K.length===0?e.jsx(f,{color:"info",icon:de,children:"No notification services are configured. Use the URL Generator below to create a service."}):e.jsxs(y,{children:[e.jsxs(y.Head,{children:[e.jsx(y.HeadCell,{children:"Name"}),e.jsx(y.HeadCell,{children:"Description"}),e.jsx(y.HeadCell,{children:"Status"}),e.jsx(y.HeadCell,{children:"Actions"})]}),e.jsx(y.Body,{className:"divide-y",children:K.map(i=>{const c=pe.has(i.id),m=xe.get(i.id);return e.jsxs(y.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(y.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:i.name}),e.jsx(y.Cell,{className:"text-gray-500 dark:text-gray-400",children:i.description||"-"}),e.jsx(y.Cell,{children:e.jsx(be,{color:i.enabled?"success":"gray",children:i.enabled?"Enabled":"Disabled"})}),e.jsx(y.Cell,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{size:"xs",color:"blue",onClick:()=>me(i.id),disabled:c||!s.trim()||!i.enabled,children:c?"Sending...":m?.success?"Send Again":"Send"}),e.jsx(v,{size:"xs",color:"gray",onClick:()=>ge(i.id),disabled:!i.enabled,children:"Test"}),e.jsx(v,{size:"xs",color:"gray",onClick:()=>ve(i.id),children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx(v,{size:"xs",color:"failure",onClick:()=>ye(i.id),disabled:!i.enabled,children:e.jsx(Ne,{className:"w-4 h-4"})})]})})]},i.id)})})]})]}),e.jsxs(ne,{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Send Notification"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"title",value:"Title (optional)"}),e.jsx(n,{id:"title",type:"text",placeholder:"Notification title",value:l,onChange:i=>d(i.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"body",value:"Message Body *"}),e.jsx(ce,{id:"body",placeholder:"Enter your notification message...",value:s,onChange:i=>o(i.target.value),rows:4,className:"mt-1",required:!0})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"type",value:"Notification Type"}),e.jsxs(ee,{id:"type",value:x,onChange:i=>g(i.target.value),className:"mt-1",children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"failure",children:"Failure"})]})]}),e.jsx(v,{onClick:ue,disabled:j||!s.trim(),className:"w-full sm:w-auto",children:j?"Sending...":"Send to All Services"})]})]}),e.jsxs(ne,{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"How It Works"}),e.jsxs("div",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:["Apprise is integrated into the NixOS Router WebUI backend, allowing you to send notifications to multiple services configured in ",e.jsx("code",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"router-config.nix"}),"."]}),e.jsx("p",{children:"Notifications can be sent to all configured services simultaneously, or to individual services."}),e.jsx("p",{children:e.jsx("strong",{children:"Notification Types:"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"info"})," - General information (default)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"success"})," - Success messages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"warning"})," - Warning messages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"failure"})," - Error/failure messages"]})]})]})]}),e.jsxs(k,{show:te,onClose:()=>G(!1),size:"6xl",children:[e.jsx(k.Header,{children:"Create New Apprise Service"}),e.jsx(k.Body,{children:e.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:e.jsx(Fe,{onServiceSaved:()=>{G(!1),Q()}})})})]}),e.jsxs(k,{show:q,onClose:()=>T(!1),size:"lg",children:[e.jsx(k.Header,{children:"Edit Apprise Service"}),e.jsx(k.Body,{children:e.jsxs("div",{className:"space-y-4",children:[r&&e.jsx(f,{color:"failure",children:r}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"editName",value:"Service Name *"}),e.jsx(n,{id:"editName",value:I,onChange:i=>E(i.target.value),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"editDescription",value:"Description (optional)"}),e.jsx(ce,{id:"editDescription",value:Y,onChange:i=>P(i.target.value),rows:3,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"editUrl",value:"Service URL *"}),e.jsx(n,{id:"editUrl",value:u,onChange:i=>J(i.target.value),required:!0,className:"mt-1 font-mono text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"editEnabled",checked:_,onChange:i=>h(i.target.checked),className:"w-4 h-4"}),e.jsx(a,{htmlFor:"editEnabled",value:"Enabled"})]})]})}),e.jsxs(k.Footer,{children:[e.jsx(v,{color:"blue",onClick:je,disabled:V||!I.trim()||!u.trim(),children:V?"Saving...":"Save"}),e.jsx(v,{color:"gray",onClick:()=>T(!1),children:"Cancel"})]})]})]})})]})]}):e.jsxs("div",{className:"flex h-screen",children:[e.jsx(le,{onLogout:re,isOpen:t,onClose:()=>S(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ie,{hostname:"nixos-router",username:b,connectionStatus:ae,onMenuClick:()=>S(!t)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsxs(f,{color:"warning",icon:de,children:[e.jsx("span",{className:"font-medium",children:"Apprise is not enabled."}),e.jsxs("div",{className:"mt-2 text-sm",children:["To enable Apprise notifications, set ",e.jsx("code",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"apprise.enable = true"})," in your ",e.jsx("code",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"router-config.nix"})," file."]})]})})]})]})}export{Pe as Apprise};
